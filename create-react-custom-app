#!/usr/bin/env node
'use strict'

const fs = require('fs-extra');
const program = require('commander');

program
  .version('1.0.0', '-v, --version')
  .parse(process.argv);

const currentDir = process.cwd();
const name = program.args[0];

let appDir = currentDir;
if(name) appDir = currentDir + '/' + name;

Promise.resolve()
  .then(() => fs.mkdirsSync(appDir))
  .then(() => fs.copySync(__dirname + '/create', appDir))
  .then(() => {
    console.log('Success! Run commands');
    if(name) console.log('cd ' + name + '/');
    console.log('npm start');
  })
  .catch(err => console.error(err));
